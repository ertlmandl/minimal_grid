// typography.scss
// ----------------------------------------------------------------
// TRUE PROPORTIONAL SCALING
// ----------------------------------------------------------------
@use "sass:math";

// ----------------------------------------------------------------
// Projekt-Config
// ----------------------------------------------------------------
//
// $viewport-min ......... Viewport-Breite, ab der die Schrift flüssig skaliert.
//                         Darunter bleibt sie auf der Mindestgröße.
// $viewport-max ......... Viewport-Breite, bis zu der die Schrift weiter wächst.
//                         Darüber bleibt sie auf der Maximalgröße stehen.
// $font-min-px .......... Body-Schriftgröße (in px) bei $viewport-min
//                         und allen Viewports darunter.
// $font-sans ............ Basis-Schriftfamilie für den Fließtext.
//
$viewport-min: 680;
$viewport-max: 1680;

$font-min-px: 16; // = 16px Body-Text bei 680px Viewport und kleiner

$font-sans: "Inter", system-ui, sans-serif !default;

// ----------------------------------------------------------------
// Berechnung (intern in px, Ausgabe in rem + vw)
// ----------------------------------------------------------------

// Basis-Formel: bei $viewport-min soll $font-min-px rauskommen.
// base-vw = (font-min / viewport-min) * 100 → z.B. 16/680*100 ≈ 2.35vw
$base-vw: math.div($font-min-px, $viewport-min) * 100;

// Maximalgröße: font-max = font-min * (viewport-max / viewport-min)
$font-max-px: $font-min-px * math.div($viewport-max, $viewport-min);

// Für clamp() in rem umrechnen
// Annahme: 16px = 1rem (Browser-Default). User-Settings können das übersteuern.
$font-min-rem: math.div($font-min-px, 16);
$font-max-rem: math.div($font-max-px, 16);

:root {
  // Ergebnis:
  // - < $viewport-min  → immer $font-min-rem
  // - zwischen min/max → linear per vw
  // - > $viewport-max  → gedeckelt auf $font-max-rem
  font-size: clamp(#{$font-min-rem}rem, #{$base-vw}vw, #{$font-max-rem}rem);
}

// ----------------------------------------------------------------
// Typography Scale
// ----------------------------------------------------------------

body { 
  font-size: 1rem; 
  line-height: 1.5;
  font-family: $font-sans;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

h1,h2,h3,h4,h5,h6 {
  margin-block: 0 0.5em;
}

h1, .h1 { font-size: 2.5em;   line-height: 1.15; }
h2, .h2 { font-size: 2em;     line-height: 1.2;  }
h3, .h3 { font-size: 1.5em;   line-height: 1.25; }
h4, .h4 { font-size: 1.25em;  line-height: 1.3;  }
h5, .h5 { font-size: 1.125em; line-height: 1.4;  }
h6, .h6 { font-size: 1em;     line-height: 1.4;  }

p,
ul,
ol { 
  font-size: 1em;
  margin-block: 0 1em;

  &:last-child {
    margin-bottom: 0;
  }
}

small { 
  font-size: 0.875em; 
}

.lead {
  font-size: 1.125em;
  line-height: 1.6;
}
